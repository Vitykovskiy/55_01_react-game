<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--ssr-styles-->
    <!--ssr-helmet-->
  </head>
  <body>
    <!--ssr-initial-state-->
    <div id="root"><!--ssr-outlet--></div>
    <script type="module" src="/src/app/index"></script>
    <script>
      async function startServiceWorker() {

        if (!navigator?.serviceWorker) {
          return;
        }

        window.addEventListener('load', async () => {
          try {
            const registration = await navigator.serviceWorker.register('./sw.js')
            console.log(
              'ServiceWorker registration successful with scope: ',
              registration.scope
            )
          } catch (error) {
            console.log('ServiceWorker registration failed: ', error)
          }
        })
      }

      startServiceWorker()
      // if ('serviceWorker' in navigator) {
      //   window.addEventListener('load', () => {
      //     navigator.serviceWorker.register('/sw.js')
      //       .then(reg => console.log('SW registered:', reg))
      //       .catch(err => console.log('SW error:', err));
      //   });
      // }
    </script>
  </body>
</html>
